<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Week 3: June 10 ~ June 16 | Prajyot Jadhav | JdeRobot x GSoC 2024 </title> <meta name="author" content="JdeRobot | GSoC 2024"> <meta name="description" content="Migration of drone_assets to Gazebo Harmonic"> <link rel="stylesheet" href="/gsoc2024-Prajyot_Jadhav/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/gsoc2024-Prajyot_Jadhav/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/gsoc2024-Prajyot_Jadhav/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/gsoc2024-Prajyot_Jadhav/assets/img/file.png?a4d243233aa137889e20a6fc4a0d83a2"> <link rel="stylesheet" href="/gsoc2024-Prajyot_Jadhav/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://theroboticsclub.github.io/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-3/"> <script src="/gsoc2024-Prajyot_Jadhav/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/gsoc2024-Prajyot_Jadhav/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/gsoc2024-Prajyot_Jadhav/"> Prajyot Jadhav | JdeRobot x GSoC 2024 </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/gsoc2024-Prajyot_Jadhav/">home </a> </li> <li class="nav-item "> <a class="nav-link" href="/gsoc2024-Prajyot_Jadhav/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/gsoc2024-Prajyot_Jadhav/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/gsoc2024-Prajyot_Jadhav/report/">report </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Week 3: June 10 ~ June 16</h1> <p class="post-meta"> Created in June 18, 2024 </p> <p class="post-tags"> <a href="/gsoc2024-Prajyot_Jadhav/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>The goal for this week was to migrate the models in <a href="https://github.com/JdeRobot/RoboticsInfrastructure/tree/humble-devel/CustomRobots/drone_assets" rel="external nofollow noopener" target="_blank">drone_assets</a> to Gazebo Harmonic.</p> <h4 id="objectives">Objectives</h4> <ul class="task-list"> <li class="task-list-item"> <input type="checkbox" class="task-list-item-checkbox" disabled checked>drone_assets migration to Gz Harmonic</li> </ul> <h4 id="issues-fixed">Issues Fixed</h4> <ul> <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/issues/401" rel="external nofollow noopener" target="_blank">https://github.com/JdeRobot/RoboticsInfrastructure/issues/401</a></li> </ul> <h4 id="prs-created">PRs Created</h4> <ul> <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/402" rel="external nofollow noopener" target="_blank">https://github.com/JdeRobot/RoboticsInfrastructure/pull/402</a></li> </ul> <h4 id="work-done">Work Done</h4> <ul> <li>Updated the simple_circuit_followingcam.launch.py file for dummy client testing</li> <li>Determined the issue with commands used for configuring the browser screen dimensions for Gazebo GUI</li> <li>Migrated drone_assets to Gazebo Harmonic</li> </ul> <p>Last week, I encountered difficulties while testing the new RAM launcher with the dummy client. During our meeting, Pedro guided me on debugging and development with the dummy client. In the dummy client, for the second step of <code class="language-plaintext highlighter-rouge">launch_world</code>, the <code class="language-plaintext highlighter-rouge">simple_circuit_followingcam.launch.py</code> file is launched. My focus was on modifying this file to make it compatible with Gazebo Harmonic. I updated the file, replacing <code class="language-plaintext highlighter-rouge">gazebo_ros</code> with <code class="language-plaintext highlighter-rouge">ros_gz</code> and the <code class="language-plaintext highlighter-rouge">gzserver.launch.py</code> file with the corresponding one from the <code class="language-plaintext highlighter-rouge">ros_gz</code> package. Using the dummy client, I successfully executed the first two steps: <code class="language-plaintext highlighter-rouge">connect</code> and <code class="language-plaintext highlighter-rouge">launch_world</code>. The third step, <code class="language-plaintext highlighter-rouge">prepare_visualization</code>, which launches the Gazebo GUI, was commented out. I managed to launch the Gazebo GUI from another terminal inside the container, but encountered a black screen. Running the <code class="language-plaintext highlighter-rouge">gz sim -g</code> command with the <code class="language-plaintext highlighter-rouge">-v4</code> argument showed that the GUI was requesting a list of world names and the server was downloading resources. I am currently working on resolving this issue.</p> <div class="row mt-3 justify-content-center"> <div class="col-lg-10 mt-3 mt-md-0"> <figure> <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week3vdo1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls=""></video> </figure> </div> </div> <p>Previously, I had found that the default configuration file for the Gazebo SIM GUI is located at <code class="language-plaintext highlighter-rouge">$HOME/.gz/gui/default.config</code>. However, for Gazebo Harmonic, the correct path is <code class="language-plaintext highlighter-rouge">$HOME/.gz/sim/&lt;#&gt;/gui.config</code> (where &lt;#&gt; represents Gazebo Sim’s major version). I attempted to launch an empty_world with a modified config file specifying only the window dimensions. However, I observed that a specific set of plugins is necessary to launch an empty_world, and if these are missing, the default config file is used. My next task would be to create a new config file containing only the required plugins, removing unnecessary elements from the Gazebo GUI.</p> <p>While migrating models in drone_assets to Gazebo Harmonic, I discovered that Gazebo SIM does not support Ogre material files like Classic does, due to its compatibility with multiple rendering engines. In Gazebo Sim, textures can be passed as the albedo map. Therefore, in the sdf files of the models the following code:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;material&gt;
  &lt;script&gt;
    &lt;uri&gt;model://number1/materials/scripts&lt;/uri&gt;
    &lt;uri&gt;model://number1/materials/textures&lt;/uri&gt;
    &lt;name&gt;Number/One&lt;/name&gt;
  &lt;/script&gt;
&lt;/material&gt;
</code></pre></div></div> <p>was replaced with:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;material&gt;
  &lt;pbr&gt;
    &lt;metal&gt;
      &lt;albedo_map&gt;model://number1/materials/textures/texture.png&lt;/albedo_map&gt;
    &lt;/metal&gt;
  &lt;/pbr&gt;
&lt;/material&gt;
</code></pre></div></div> <p>I added new models for ocean and polaris_ranger_ev. The models yet to be migrated are: gas_station, house_3, UAVs (iris and typhoon h480). Also the system plugin <code class="language-plaintext highlighter-rouge">libwall2plugin.so</code> used in the cylinder and wall models is to be migrated.</p> <figure> <picture> <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week3/2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Models from Rescue People exercise migrated to Gazebo Harmonic </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-11-12/">Week 11 and Week 12: August 05 ~ August 18</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-10/">Week 10: July 29 ~ August 04</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-8-9/">Week 8 and Week 9: July 15 ~ July 28</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-7/">Week 7: July 08 ~ July 14</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-5-6/">Week 5 and Week 6: June 24 ~ July 07</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 JdeRobot | GSoC 2024. RoboticsAcademy: Migration to Gazebo Harmonic Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/gsoc2024-Prajyot_Jadhav/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/gsoc2024-Prajyot_Jadhav/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/gsoc2024-Prajyot_Jadhav/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/gsoc2024-Prajyot_Jadhav/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/gsoc2024-Prajyot_Jadhav/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/gsoc2024-Prajyot_Jadhav/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/gsoc2024-Prajyot_Jadhav/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/gsoc2024-Prajyot_Jadhav/assets/js/vanilla-back-to-top.min.js?fa0110e8b42cec56ce96d912fd4bde74"></script> <script>addBackToTop();</script> </body> </html>