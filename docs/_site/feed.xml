<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/" rel="alternate" type="text/html" hreflang="en" /><updated>2024-08-23T06:00:47+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/feed.xml</id><title type="html">Prajyot Jadhav | JdeRobot x GSoC 2024</title><entry><title type="html">Week 11 and Week 12: August 05 ~ August 18</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-11-12/" rel="alternate" type="text/html" title="Week 11 and Week 12: August 05 ~ August 18" /><published>2024-08-18T06:31:00+05:30</published><updated>2024-08-18T06:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-11-12</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-11-12/"><![CDATA[<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Creating a new RAM world type for Gz Sim Drone based exercises</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Addressing and fixing problems related to the Reset button’s operation</li>
</ul>

<h4 id="work-done">Work Done</h4>

<p>In our previous meeting, the mentors recommended making changes to the existing Pull Requests by creating a separate launcher for drones for the <code class="language-plaintext highlighter-rouge">as2_gazebo_sim</code> file. Following this advice, I created a new world type, <code class="language-plaintext highlighter-rouge">Gz Sim Drones</code>, by migrating the Django model. This new world type launches a new <code class="language-plaintext highlighter-rouge">drones_gzsim</code> launcher, which in turn starts the Aerostack2 Gazebo Sim launch file. This approach ensures that the previous drone-based exercises remain unaffected, providing a fallback option in case any issues arise with the newly migrated exercise.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week12/frames.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<p>Previously, for the Rescue People exercise, the drone’s position was reset to its initial location using hardcoded values. Pedro suggested an improved solution to make this approach adaptable for different drone-based exercises. As shown in the transform tree figure, there is a static <code class="language-plaintext highlighter-rouge">drone0/map</code> frame located at the initial spawn point of the quadrotor. By determining the transform between the <code class="language-plaintext highlighter-rouge">earth</code> frame (located at coordinates (0,0,0)) and the <code class="language-plaintext highlighter-rouge">drone0/map</code> frame, we can accurately calculate the quadrotor’s initial position. This position will then be used in the Gazebo service to set the quadrotor model’s pose.</p>

<p>Regarding the issue where the quadrotor fails to take off after resetting, Pedro suggested that this might be due to the Aerostack2 state machine not updating post-reset.</p>

<p>The Aerostack2 states and transitions are as follows:</p>

<p><strong>States:</strong></p>
<ul>
  <li>TAKING_OFF</li>
  <li>FLY</li>
  <li>LANDING</li>
  <li>LANDED</li>
  <li>DISARMED</li>
  <li>EMERGENCY</li>
</ul>

<p><strong>Transitions:</strong></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Current State</strong></th>
      <th style="text-align: left"><strong>Event</strong></th>
      <th style="text-align: left"><strong>Next State</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">TAKING_OFF</td>
      <td style="text-align: left">TOOK_OFF</td>
      <td style="text-align: left">FLY</td>
    </tr>
    <tr>
      <td style="text-align: left">FLY</td>
      <td style="text-align: left">LAND</td>
      <td style="text-align: left">LANDING</td>
    </tr>
    <tr>
      <td style="text-align: left">LANDING</td>
      <td style="text-align: left">LANDED</td>
      <td style="text-align: left">LANDED</td>
    </tr>
    <tr>
      <td style="text-align: left">LANDED</td>
      <td style="text-align: left">TAKE_OFF</td>
      <td style="text-align: left">TAKING_OFF</td>
    </tr>
    <tr>
      <td style="text-align: left">LANDED</td>
      <td style="text-align: left">DISARM</td>
      <td style="text-align: left">DISARMED</td>
    </tr>
    <tr>
      <td style="text-align: left">DISARMED</td>
      <td style="text-align: left">ARM</td>
      <td style="text-align: left">LANDED</td>
    </tr>
    <tr>
      <td style="text-align: left">FLY, LANDING, LANDED, TAKING_OFF</td>
      <td style="text-align: left">EMERGENCY</td>
      <td style="text-align: left">EMERGENCY</td>
    </tr>
  </tbody>
</table>

<p>When the drone’s position is reset to its initial location, it remains in the <code class="language-plaintext highlighter-rouge">FLY</code> state, preventing it from performing a takeoff. Therefore, the Aerostack2 state must also be updated to <code class="language-plaintext highlighter-rouge">LANDING</code> and then to <code class="language-plaintext highlighter-rouge">LANDED</code> during the reset process.</p>

<p>To address this, I attempted to create a ROS2 service to reset the quadrotor’s pose and update the Aerostack2 state machine. Initially, I implemented the service within the <code class="language-plaintext highlighter-rouge">drone_wrapper</code> file but encountered an issue where the application would pause when the reset button was clicked, rendering the service unavailable. This occurs because the <code class="language-plaintext highlighter-rouge">terminate_application</code> function is triggered upon pressing the reset button, where the application first pauses before resetting.</p>

<p>To resolve this, I created a new <code class="language-plaintext highlighter-rouge">DroneWrapper</code> object within the reset function before calling the service. However, this resulted in a black screen appearing on the VNC server instead of the expected Gazebo Sim simulation.</p>

<p>To work around this, I created a new file, <code class="language-plaintext highlighter-rouge">drone_reset.py</code>, with a <code class="language-plaintext highlighter-rouge">quadrotor_reset</code> node specifically for the service. I then created a <code class="language-plaintext highlighter-rouge">DroneReset</code> class object in the reset function and called the ROS2 service.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week12/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<div class="caption">
    \quadrotor_reset_pose ROS2 service
</div>

<p>Although the service is now available, it’s currently getting stuck at <code class="language-plaintext highlighter-rouge">requester: making request: std_srvs.srv.Trigger_Request()</code>.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week12/2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>]]></content><author><name></name></author><summary type="html"><![CDATA[Creating a new RAM world type and fixing issues with Reset functionality for the Gz Harmonic exercise]]></summary></entry><entry><title type="html">Week 10: July 29 ~ August 04</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-10/" rel="alternate" type="text/html" title="Week 10: July 29 ~ August 04" /><published>2024-08-06T02:31:00+05:30</published><updated>2024-08-06T02:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-10</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-10/"><![CDATA[<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Resolving functionality issues with the Play and Pause buttons</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Addressing and fixing problems related to the Reset button’s operation (solved partially)</li>
</ul>

<h4 id="work-done">Work Done</h4>

<p>In the previous week, I encountered issues where images on the GUI server were not updating as expected. Additionally, the Play button failed to toggle to Pause when the application was running, and the Reset button remained grayed out.</p>

<p>Upon investigation, I identified the potential cause within the Robotics Application Manager, specifically within the <code class="language-plaintext highlighter-rouge">run_application</code>, <code class="language-plaintext highlighter-rouge">pause</code>, <code class="language-plaintext highlighter-rouge">resume</code>, and <code class="language-plaintext highlighter-rouge">terminate</code> transitions. In the <code class="language-plaintext highlighter-rouge">run_application</code> transition, the <code class="language-plaintext highlighter-rouge">unpause_sim</code> function was being called, while the <code class="language-plaintext highlighter-rouge">pause_sim</code> and <code class="language-plaintext highlighter-rouge">reset_sim</code> functions were invoked in the <code class="language-plaintext highlighter-rouge">terminate</code> transition.</p>

<p>For the Gazebo Classic simulator integrated with ROS 2, pausing, unpausing, and resetting simulations are managed through ROS 2 services. The following commands are used in the command line:</p>

<ul>
  <li>To ( un )pause:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /(un)pause_physics std_srvs/srv/Empty
</code></pre></div>    </div>
  </li>
  <li>To reset:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /reset_world std_srvs/srv/Empty
</code></pre></div>    </div>
  </li>
</ul>

<p>However, in the newer Gazebo Sim, the approach has shifted from ROS 2 services to Gazebo (gz) services for these operations.</p>

<p>A Gazebo transport API is now available for starting, stopping, and resetting the simulation. This is done via the command line by calling the service <code class="language-plaintext highlighter-rouge">/world/&lt;world_name&gt;/control</code> and filling the request with the message type <code class="language-plaintext highlighter-rouge">gz.msgs.WorldControl</code>. This service responds with a <code class="language-plaintext highlighter-rouge">gz.msgs.Boolean</code> indicating the success (<code class="language-plaintext highlighter-rouge">true</code>) or failure (<code class="language-plaintext highlighter-rouge">false</code>) of the request.</p>

<p>To control the simulation:</p>

<ul>
  <li><strong>Start the simulation:</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gz service -s /world/&lt;world_name&gt;/control --reqtype gz.msgs.WorldControl --reptype gz.msgs.Boolean --timeout 3000 --req 'pause: false'
</code></pre></div>    </div>
  </li>
  <li><strong>Pause the simulation:</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gz service -s /world/&lt;world_name&gt;/control --reqtype gz.msgs.WorldControl --reptype gz.msgs.Boolean --timeout 3000 --req 'pause: true'
</code></pre></div>    </div>
  </li>
  <li><strong>Reset the simulation:</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gz service -s /world/&lt;world_name&gt;/control --reqtype gz.msgs.WorldControl --reptype gz.msgs.Boolean --timeout 3000 --req 'reset: {all: true}'
</code></pre></div>    </div>
  </li>
</ul>

<p>The reset operation, similar to the pause and unpause commands, is managed through the same service. The <code class="language-plaintext highlighter-rouge">reset</code> field in the <code class="language-plaintext highlighter-rouge">gz.msgs.WorldControl</code> message allows you to reset the world to time zero. When executed, this command stops the simulation and resets the world state, with the success of the request indicated by the returned Boolean value.</p>

<p>Since the Gazebo (gz) services include the <code class="language-plaintext highlighter-rouge">&lt;world_name&gt;</code> in their paths, I implemented a solution to ensure compatibility across different exercises with varying world names. I used a regular expression <code class="language-plaintext highlighter-rouge">$(gz service -l | grep '^/world/\w*/control$')</code> to dynamically identify the correct service name from the available services. This approach works well, as only one exercise is run at a time, each with its specific world name.</p>

<p>I then updated the <code class="language-plaintext highlighter-rouge">unpause_sim</code> and <code class="language-plaintext highlighter-rouge">pause_sim</code> functions in the RoboticsApplicationManager for <code class="language-plaintext highlighter-rouge">visualization_type</code> as <code class="language-plaintext highlighter-rouge">gzsim_rae</code>. With these updates, I successfully resolved the issues related to the Play/Pause functionality and the problem with static images.</p>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week10vdo1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>

<div class="caption">
    Play/Pause Functionality Demonstration
</div>

<p>However, when I applied similar updates to the <code class="language-plaintext highlighter-rouge">reset_sim</code> function, the simulation didn’t perform as expected, and Gazebo Sim crashed. The service worked fine with basic simulation environments but specifically failed when using Aerostack2. After discussing this with the mentors, we suspected that the issue might be related to the Aerostack2 bridges not being reset correctly.</p>

<p>To work around this problem, I initially attempted to delete the quadrotor model and respawn it at its initial position, but this also caused the simulation to crash. Instead, I implemented a solution that involves resetting the pose of the quadrotor model to its initial position when the reset button is clicked. This approach works well since, in the Rescue People exercise, the quadrotor is the only dynamic model in the simulation environment.</p>

<p>The command to reset the drone’s position is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gz service -s /world/&lt;world_name&gt;/set_pose --reqtype gz.msgs.Pose --reptype gz.msgs.Boolean --timeout 300 --req 'name: "drone0", position: {x: 0, y: 0, z: 0}'
</code></pre></div></div>

<p>This successfully resets the drone to its initial position. However, I’ve encountered a new issue: when re-running the code after resetting, the drone doesn’t perform a takeoff and instead directly moves to the setpoint position. I will investigate and try to resolve this next.</p>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week10vdo2.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>

<div class="caption">
    Reset Functionality: Quadrotor Returning to Initial Position
</div>]]></content><author><name></name></author><summary type="html"><![CDATA[Fixing issues with the functionality of the Play, Pause, and Reset buttons for the Gz Harmonic exercise]]></summary></entry><entry><title type="html">Week 8 and Week 9: July 15 ~ July 28</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-8-9/" rel="alternate" type="text/html" title="Week 8 and Week 9: July 15 ~ July 28" /><published>2024-07-30T02:31:00+05:30</published><updated>2024-07-30T02:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-8-9</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-8-9/"><![CDATA[<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Adding documentation for creating a new RAM launcher and a guide for using the dummy RAM client</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Resolving issues with HAL functions in the Rescue People Gz Harmonic exercise</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Troubleshooting and resolving problems with image display on the GUI</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Fixing issues with the functionality of the Play, Pause, and Reset buttons</li>
</ul>

<h4 id="issues-fixed">Issues Fixed</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsApplicationManager/issues/143">https://github.com/JdeRobot/RoboticsApplicationManager/issues/143</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsApplicationManager/issues/142">https://github.com/JdeRobot/RoboticsApplicationManager/issues/142</a></li>
</ul>

<h4 id="prs-created">PRs Created</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsApplicationManager/issues/143">https://github.com/JdeRobot/RoboticsApplicationManager/issues/143</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsApplicationManager/pull/148">https://github.com/JdeRobot/RoboticsApplicationManager/pull/148</a></li>
</ul>

<h4 id="work-done">Work Done</h4>

<p>I have added a guide to the RoboticsApplicationManager repository for using the dummy RAM client, which aids in developing and debugging new RAM launchers. Also, I documented the steps for creating a new RAM launcher, detailing the necessary changes and new files to be created for the <code class="language-plaintext highlighter-rouge">launch_world</code> and <code class="language-plaintext highlighter-rouge">prepare_visualization</code> transitions. This documentation is intended to assist new contributors in the development of RAM launchers.</p>

<p>Last week, I encountered an issue with the HAL functions for the Rescue People Harmonic exercise. The problem arose because I renamed the folder containing the config files for the <code class="language-plaintext highlighter-rouge">as2_state_estimator</code> and <code class="language-plaintext highlighter-rouge">as2_motion_controller</code> packages from <code class="language-plaintext highlighter-rouge">ign</code> to <code class="language-plaintext highlighter-rouge">gzsim</code> but did not update the path in the <code class="language-plaintext highlighter-rouge">setup.py</code> file. Consequently, the config files were not found in the share directory during launch, causing the launch file to fail. Modifying the <code class="language-plaintext highlighter-rouge">setup.py</code> file of the <code class="language-plaintext highlighter-rouge">jderobot_drones</code> package resolved the issue.</p>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week8vdo1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>

<p>However, I was still facing some issues. As it can be seen in the video above, I could use functions from HAL, but I was unable to display images using <code class="language-plaintext highlighter-rouge">GUI.showImage(cv2_image)</code> and <code class="language-plaintext highlighter-rouge">GUI.showLeftImage(cv2_image)</code>. Additionally, when running the code, the play button did not change to pause, and the reset button remained grayed out.</p>

<p>To resolve this, I first checked if data was being received on the two topics for images: <code class="language-plaintext highlighter-rouge">drone0/sensor_measurements/frontal_camera/image_raw</code> and <code class="language-plaintext highlighter-rouge">drone0/sensor_measurements/ventral_camera/image_raw</code>. I observed that no data was being published on <code class="language-plaintext highlighter-rouge">drone0/sensor_measurements/frontal_camera/image_raw</code>, but data was present on <code class="language-plaintext highlighter-rouge">drone0/sensor_measurements/front_camera/image_raw</code>. After discussing with mentors, I learned that the image topic for the front camera depends on how the camera is included in the simulation config file used for the <code class="language-plaintext highlighter-rouge">as2_gazebo_assets</code> package. If the payload’s “model_name” is set to “frontal_camera,” data is obtained on <code class="language-plaintext highlighter-rouge">/frontal_camera/image_raw</code>; if it is “front_camera,” data is obtained on <code class="language-plaintext highlighter-rouge">/front_camera/image_raw</code>. I adjusted the <code class="language-plaintext highlighter-rouge">sim_config</code> file for the Rescue People Gz Harmonic Exercise accordingly. Also, I updated some outdated paths in the HTML file of the new exercise.
Despite these changes, the image display issue remained unresolved. The mentors recommended examining the RoboticsApplicationManager code for potential issues.</p>

<p>I discovered that in the Robotics Application Manager, during the <code class="language-plaintext highlighter-rouge">prepare_visualization</code> transition from the <code class="language-plaintext highlighter-rouge">world_ready</code> to the <code class="language-plaintext highlighter-rouge">visualization_ready</code> state, a GUI server was started only if the <code class="language-plaintext highlighter-rouge">visualization_type</code> was <code class="language-plaintext highlighter-rouge">gazebo_rae</code>. I modified this configuration so that the GUI server also starts when the <code class="language-plaintext highlighter-rouge">visualization_type</code> is <code class="language-plaintext highlighter-rouge">gzsim_rae</code>. Following these changes, the images were displayed on the GUI; however, they were not updating and remained fixed at the initial image.</p>

<p>In addition to the issue of static images, the play/pause and reset buttons are still not functioning as expected.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week8/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>]]></content><author><name></name></author><summary type="html"><![CDATA[Adding documentation and fixing errors for the Rescue People Gz Harmonic exercise]]></summary></entry><entry><title type="html">Week 7: July 08 ~ July 14</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-7/" rel="alternate" type="text/html" title="Week 7: July 08 ~ July 14" /><published>2024-07-16T17:31:00+05:30</published><updated>2024-07-16T17:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-7</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-7/"><![CDATA[<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Updating the DDBB entry for Rescue People Harmonic exercise</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Updating drones_ros2 launcher to launch the Aerostack2 Gz Sim launcher</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Updating the Aerostack2 launcher for Gz Sim</li>
</ul>

<h4 id="issues-fixed">Issues Fixed</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/issues/422">https://github.com/JdeRobot/RoboticsInfrastructure/issues/422</a></li>
</ul>

<h4 id="prs-created">PRs Created</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsApplicationManager/pull/138">https://github.com/JdeRobot/RoboticsApplicationManager/pull/138</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/423">https://github.com/JdeRobot/RoboticsInfrastructure/pull/423</a></li>
</ul>

<h4 id="work-done">Work Done</h4>

<p>Last week, I created a new <code class="language-plaintext highlighter-rouge">Gz Sim</code> world type for the exercise template by migrating the Django model. However, while reviewing the RoboticsApplicationManager codebase, I discovered that the GazeboView launcher is launched during the visualization step. Consequently, I had to revert the previous week’s changes and create two new visualization options: <code class="language-plaintext highlighter-rouge">Gz Sim GRA</code> and <code class="language-plaintext highlighter-rouge">Gz Sim RAE</code>. Now, when these fields are selected for visualization, the new Gz Sim launcher is launched for the Gazebo Sim GUI.</p>

<p>Next, I updated the drones_ros2 launcher, which is used for the drones and ROS2 world type. Instead of launching the <code class="language-plaintext highlighter-rouge">aerostack2_default_gazebo_classic</code> launch file, it now launches the <code class="language-plaintext highlighter-rouge">aerostack2_default_gazebo_sim</code> launch file from the <code class="language-plaintext highlighter-rouge">jderobot_drones</code> package.</p>

<p>I updated the <code class="language-plaintext highlighter-rouge">aerostack2_default_gazebo_sim</code> launch file to launch the <code class="language-plaintext highlighter-rouge">as2_platform_gazebo</code> and <code class="language-plaintext highlighter-rouge">as2_gazebo_assets</code> packages. The <code class="language-plaintext highlighter-rouge">as2_gazebo_assets</code> package is now launched in headless mode. This means that only the Gazebo server is started, without the GUI. The Gazebo GUI can be launched separately during the visualization step using the new Gz Sim launcher.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week7/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<div class="caption">
    Rescue People exercise
</div>

<p>However, I am currently facing two issues. The world starts at the default camera position rather than the one specified in the SDF file of the world. Also, I am encountering an error with the HAL functions: <code class="language-plaintext highlighter-rouge">Service drone0                                                             /controller/set_control_mode is not available</code></p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week7/2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>]]></content><author><name></name></author><summary type="html"><![CDATA[Updating Aerostack2 launcher for Gz Sim]]></summary></entry><entry><title type="html">Week 5 and Week 6: June 24 ~ July 07</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-5-6/" rel="alternate" type="text/html" title="Week 5 and Week 6: June 24 ~ July 07" /><published>2024-07-09T02:31:00+05:30</published><updated>2024-07-09T02:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-5-6</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-5-6/"><![CDATA[<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Installation of Gazebo11 along with Gazebo Harmonic for the RADI</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Updating CustomRobots Hooks and .env script for Gazebo Harmonic</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Migration of Rescue people world and Follow Road world to Gazebo Harmonic</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Creating a new DDBB entry for the Rescue People Harmonic exercise</li>
</ul>

<h4 id="issues-fixed">Issues Fixed</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsAcademy/issues/2569">https://github.com/JdeRobot/RoboticsAcademy/issues/2569</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/issues/409">https://github.com/JdeRobot/RoboticsInfrastructure/issues/409</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/issues/406">https://github.com/JdeRobot/RoboticsInfrastructure/issues/406</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/issues/403">https://github.com/JdeRobot/RoboticsInfrastructure/issues/403</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsAcademy/issues/2634">https://github.com/JdeRobot/RoboticsAcademy/issues/2634</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/issues/415">https://github.com/JdeRobot/RoboticsInfrastructure/issues/415</a></li>
</ul>

<h4 id="prs-created">PRs Created</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsAcademy/pull/2602">https://github.com/JdeRobot/RoboticsAcademy/pull/2602</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/410">https://github.com/JdeRobot/RoboticsInfrastructure/pull/410</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/413">https://github.com/JdeRobot/RoboticsInfrastructure/pull/413</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/412">https://github.com/JdeRobot/RoboticsInfrastructure/pull/412</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsAcademy/pull/2635">https://github.com/JdeRobot/RoboticsAcademy/pull/2635</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/419">https://github.com/JdeRobot/RoboticsInfrastructure/pull/419</a></li>
</ul>

<h4 id="work-done">Work Done</h4>

<p>The issue with the gazebo11-gz-cli PPA not supporting ROS packages on Jammy (<a href="https://github.com/gazebo-tooling/release-tools/issues/1152">#1152</a>) has been resolved. This allowed me to successfully install Gazebo11 along with Gz Harmonic for the RADI. Previously, I encountered an issue during the installation of the <code class="language-plaintext highlighter-rouge">ros-humble-gazebo-ros</code> package, but that has now been fixed. Initially, I had temporarily commented out the sourcing and compiling of the workspaces. However, with the dependency installation issues resolved, I was able to build the workspaces successfully.</p>

<p>I updated the hooks for the <code class="language-plaintext highlighter-rouge">CustomRobots</code> package and the <code class="language-plaintext highlighter-rouge">.env</code> script for Gz Harmonic. During this migration, I discovered that Gz Sim does not have a separate model path, as it treats both models and worlds as resources. In Gazebo Classic, the environment variables <code class="language-plaintext highlighter-rouge">GAZEBO_MODEL_PATH</code> were used for models and <code class="language-plaintext highlighter-rouge">GAZEBO_RESOURCE_PATH</code> for worlds and some rendering resources. However, in Gz Sim, <code class="language-plaintext highlighter-rouge">GZ_SIM_RESOURCE_PATH</code> is used for worlds, models, and other resources.</p>

<p>The world file for the rescue people exercise was migrated to Gz Harmonic using the previously migrated drone_assets.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week56/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<div class="caption">
    Rescue People world migrated to Gazebo Harmonic
</div>

<p>Similarly, the world for the follow road exercise was also migrated to Gazebo Harmonic. During this process, I found that the <code class="language-plaintext highlighter-rouge">&lt;road&gt;</code> tag used in the Gazebo Classic world file is not supported in Gz Sim <a href="https://github.com/gazebosim/gz-sim/issues/2320">(#2320)</a>. To address this, I created two new models for the road track: one for curves and another for straight sections.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week56/2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<div class="caption">
    Follow Road world migrated to Gazebo Harmonic
</div>

<p>A database entry was created for the Rescue People Gz Harmonic exercise. Also, a new Gz Sim world type for the exercise template was created by migrating the Django model. With this new world type, the Gz Sim launcher from RAM will be used to launch the Gazebo GUI.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week56/3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>]]></content><author><name></name></author><summary type="html"><![CDATA[New DDBB entry and migration of worlds and related files to Gz Harmonic]]></summary></entry><entry><title type="html">Week 4: June 17 ~ June 23</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-4/" rel="alternate" type="text/html" title="Week 4: June 17 ~ June 23" /><published>2024-06-24T02:31:00+05:30</published><updated>2024-06-24T02:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-4</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-4/"><![CDATA[<p>The goal for this week was to create a Gazebo Harmonic launcher for Robotics Application Manager (RAM) and to launch the Gazebo GUI from RAM.</p>

<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Create a new Gazebo Harmonic launcher for Robotics Application Manager</li>
</ul>

<h4 id="issues-fixed">Issues Fixed</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsApplicationManager/issues/135">https://github.com/JdeRobot/RoboticsApplicationManager/issues/135</a></li>
</ul>

<h4 id="prs-created">PRs Created</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsApplicationManager/pull/136">https://github.com/JdeRobot/RoboticsApplicationManager/pull/136</a></li>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/400">https://github.com/JdeRobot/RoboticsInfrastructure/pull/400</a></li>
</ul>

<h4 id="work-done">Work Done</h4>

<ul>
  <li>Created a config file for Gazebo GUI containing only the required plugins</li>
  <li>Migrated the Gazebo View launcher to Gazebo Harmonic by updating the commands used for configuring the browser screen dimensions for Gazebo GUI</li>
  <li>Resolved the black screen issue encountered for Gazebo GUI</li>
</ul>

<p>Last week, I faced a black screen when launching the Gazebo GUI from another terminal inside the container while executing the first two steps of the dummy client. We discovered that the issue was due to models being added to the Gazebo world from <a href="https://app.gazebosim.org/fuel">Gazebo Fuel</a> via SDF snippets (e.g., <code class="language-plaintext highlighter-rouge">https://fuel.gazebosim.org/1.0/OpenRobotics/models/Coke</code>). By removing the SDF snippets for the two models (sun and ground plane), the issue was resolved. I created an empty world file in RoboticsInfrastructure without the sun and ground plane models, which is used during dummy client testing.</p>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week4vdo1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>

<p>I created a new config file containing only the required plugins, removing unnecessary elements from the Gazebo GUI. The essential plugins are <code class="language-plaintext highlighter-rouge">MinimalScene</code> and <code class="language-plaintext highlighter-rouge">GzSceneManager</code>, responsible for displaying the 3D scene. Additionally, I included <code class="language-plaintext highlighter-rouge">InteractiveViewControl</code> to allow user interaction with the GUI, such as moving the camera and zooming. I verified that the GUI dimensions could be adjusted by altering the width and height parameters in the config file.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week4/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<p>I updated the RAM launcher created in Week 2 of the coding period. The commands for configuring the browser screen dimensions for Gazebo GUI were updated. I successfully tested this launcher with the dummy client and was able to get a Gazebo Sim GUI on the web server.</p>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week4vdo2.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>]]></content><author><name></name></author><summary type="html"><![CDATA[New Gazebo Harmonic launcher for Robotics Application Manager]]></summary></entry><entry><title type="html">Week 3: June 10 ~ June 16</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-3/" rel="alternate" type="text/html" title="Week 3: June 10 ~ June 16" /><published>2024-06-18T02:31:00+05:30</published><updated>2024-06-18T02:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-3</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-3/"><![CDATA[<p>The goal for this week was to migrate the models in <a href="https://github.com/JdeRobot/RoboticsInfrastructure/tree/humble-devel/CustomRobots/drone_assets">drone_assets</a> to Gazebo Harmonic.</p>

<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />drone_assets migration to Gz Harmonic</li>
</ul>

<h4 id="issues-fixed">Issues Fixed</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/issues/401">https://github.com/JdeRobot/RoboticsInfrastructure/issues/401</a></li>
</ul>

<h4 id="prs-created">PRs Created</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsInfrastructure/pull/402">https://github.com/JdeRobot/RoboticsInfrastructure/pull/402</a></li>
</ul>

<h4 id="work-done">Work Done</h4>

<ul>
  <li>Updated the simple_circuit_followingcam.launch.py file for dummy client testing</li>
  <li>Determined the issue with commands used for configuring the browser screen dimensions for Gazebo GUI</li>
  <li>Migrated drone_assets to Gazebo Harmonic</li>
</ul>

<p>Last week, I encountered difficulties while testing the new RAM launcher with the dummy client.  During our meeting, Pedro guided me on debugging and development with the dummy client. In the dummy client, for the second step of <code class="language-plaintext highlighter-rouge">launch_world</code>, the <code class="language-plaintext highlighter-rouge">simple_circuit_followingcam.launch.py</code> file is launched. My focus was on modifying this file to make it compatible with Gazebo Harmonic. I updated the file, replacing <code class="language-plaintext highlighter-rouge">gazebo_ros</code> with <code class="language-plaintext highlighter-rouge">ros_gz</code> and the <code class="language-plaintext highlighter-rouge">gzserver.launch.py</code> file with the corresponding one from the <code class="language-plaintext highlighter-rouge">ros_gz</code> package. Using the dummy client, I successfully executed the first two steps: <code class="language-plaintext highlighter-rouge">connect</code> and <code class="language-plaintext highlighter-rouge">launch_world</code>. The third step, <code class="language-plaintext highlighter-rouge">prepare_visualization</code>, which launches the Gazebo GUI, was commented out. I managed to launch the Gazebo GUI from another terminal inside the container, but encountered a black screen. Running the <code class="language-plaintext highlighter-rouge">gz sim -g</code> command with the <code class="language-plaintext highlighter-rouge">-v4</code> argument showed that the GUI was requesting a list of world names and the server was downloading resources. I am currently working on resolving this issue.</p>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week3vdo1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>

<!-- <div class="caption">
    New RADI with Gazebo Harmonic (with xhost +)
</div> -->

<p>Previously, I had found that the default configuration file for the Gazebo SIM GUI is located at <code class="language-plaintext highlighter-rouge">$HOME/.gz/gui/default.config</code>. However, for Gazebo Harmonic, the correct path is <code class="language-plaintext highlighter-rouge">$HOME/.gz/sim/&lt;#&gt;/gui.config</code> (where &lt;#&gt; represents Gazebo Sim’s major version). I attempted to launch an empty_world with a modified config file specifying only the window dimensions. However, I observed that a specific set of plugins is necessary to launch an empty_world, and if these are missing, the default config file is used. My next task would be to create a new config file containing only the required plugins, removing unnecessary elements from the Gazebo GUI.</p>

<p>While migrating models in drone_assets to Gazebo Harmonic, I discovered that Gazebo SIM does not support Ogre material files like Classic does, due to its compatibility with multiple rendering engines. In Gazebo Sim, textures can be passed as the albedo map. Therefore, in the sdf files of the models the following code:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;material&gt;
  &lt;script&gt;
    &lt;uri&gt;model://number1/materials/scripts&lt;/uri&gt;
    &lt;uri&gt;model://number1/materials/textures&lt;/uri&gt;
    &lt;name&gt;Number/One&lt;/name&gt;
  &lt;/script&gt;
&lt;/material&gt;
</code></pre></div></div>
<p>was replaced with:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;material&gt;
  &lt;pbr&gt;
    &lt;metal&gt;
      &lt;albedo_map&gt;model://number1/materials/textures/texture.png&lt;/albedo_map&gt;
    &lt;/metal&gt;
  &lt;/pbr&gt;
&lt;/material&gt;
</code></pre></div></div>
<p>I added new models for ocean and polaris_ranger_ev. The models yet to be migrated are: gas_station, house_3, UAVs (iris and typhoon h480). Also the system plugin <code class="language-plaintext highlighter-rouge">libwall2plugin.so</code> used in the cylinder and wall models is to be migrated.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week3/2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<div class="caption">
    Models from Rescue People exercise migrated to Gazebo Harmonic
</div>]]></content><author><name></name></author><summary type="html"><![CDATA[Migration of drone_assets to Gazebo Harmonic]]></summary></entry><entry><title type="html">Week 2: June 03 ~ June 09</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-2/" rel="alternate" type="text/html" title="Week 2: June 03 ~ June 09" /><published>2024-06-10T20:31:00+05:30</published><updated>2024-06-10T20:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-2</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-2/"><![CDATA[<p>This week I focused on creatiing a new Gazebo Harmonic launcher for Robotics Application Manager.</p>

<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Create a new Gazebo Harmonic launcher for Robotics Application Manager</li>
</ul>

<h4 id="work-done">Work Done</h4>

<ul>
  <li>Understood the code of the existing Gazebo View launcher and the related files for Docker Threading and VNC server</li>
  <li>By referring to the old Gazebo View launcher, created a new launcher for Gazebo Harmonic by:
    <ul>
      <li>Updating the commands used for configuring the browser screen dimensions for Gazebo GUI</li>
      <li>Replacing the commands for starting gzclient with those for starting Gazebo Sim’s GUI</li>
    </ul>
  </li>
  <li>Created a new RADI with installation of Gazebo 11 along with Gazebo Harmonic</li>
</ul>

<p>In the old Gazebo View launcher, <code class="language-plaintext highlighter-rouge">gui.ini</code> file was modified to set the geometry of the Gazebo client window. The <code class="language-plaintext highlighter-rouge">gui.ini</code> file is a configuration file used by Gazebo Classic to store settings related to the graphical user interface. This file contains parameters that control the appearance of the Gazebo GUI, such as window size and position.</p>

<p>The new Gazebo Sim does not use a <code class="language-plaintext highlighter-rouge">gui.ini</code> file for GUI configurations. Instead, GUI configurations are handled through XML configuration files that define what the window should look like and which plugins should be loaded. By default, Gazebo GUI will load the config file at <code class="language-plaintext highlighter-rouge">$HOME/.gz/gui/default.config</code>, if it exists.</p>

<p>For Gazebo Classic, the <code class="language-plaintext highlighter-rouge">gazebo</code> command runs two different executables, <code class="language-plaintext highlighter-rouge">gzserver</code> and second <code class="language-plaintext highlighter-rouge">gzclient</code>. The gzclient executable runs a QT based user interface that visualizes the simulation and provides control over various simulation properties.
For Gazebo sim the <code class="language-plaintext highlighter-rouge">gz sim</code> command launches both the Sim server and Sim GUI. The GUI can be run independently using the <code class="language-plaintext highlighter-rouge">-g</code> (gui only) flag.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week2/week2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<p>Also, Pedro had raised a issue for the <a href="https://github.com/gazebosim/docs/issues/449">Installing Gazebo11 side by side with new Gazebo not working</a>, which was resolved. I created a new RADI with both Gazebo 11 and Gazebo Harmonic installed. However, I still encountered installation failures for <code class="language-plaintext highlighter-rouge">gazebo-ros2-control</code> and <code class="language-plaintext highlighter-rouge">gazebo-ros</code> during <code class="language-plaintext highlighter-rouge">rosdep install</code>. The sourcing and compiling of the workspace has been temporarily commented out until we can address this issues.</p>

<h4 id="radi-with-gazebo-11-and-gazebo-harmonic">RADI with Gazebo 11 and Gazebo Harmonic</h4>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week2vdo1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>

<!-- <div class="caption">
    New RADI with Gazebo Harmonic (with xhost +)
</div> -->]]></content><author><name></name></author><summary type="html"><![CDATA[Creating new Gazebo Harmonic launcher for Robotics Application Manager]]></summary></entry><entry><title type="html">Week 1: May 27 ~ June 02</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-1/" rel="alternate" type="text/html" title="Week 1: May 27 ~ June 02" /><published>2024-06-05T02:31:00+05:30</published><updated>2024-06-05T02:31:00+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-1</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/coding-period-week-1/"><![CDATA[<p>The goal for this week was to modify the Dockerfiles to create a new RADI with Gazebo Harmonic and test it with xhost +.</p>

<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Create and test a new RADI with Gazebo Harmonic</li>
</ul>

<h4 id="issues-fixed">Issues Fixed</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsAcademy/issues/2540">https://github.com/JdeRobot/RoboticsAcademy/issues/2540</a></li>
</ul>

<h4 id="prs-created">PRs Created</h4>

<ul>
  <li><a href="https://github.com/JdeRobot/RoboticsAcademy/pull/2542">https://github.com/JdeRobot/RoboticsAcademy/pull/2542</a></li>
</ul>

<h4 id="work-done">Work Done</h4>

<ul>
  <li>Modified Dockerfiles to:
    <ul>
      <li>Replace Gazebo 11 with Gazebo Harmonic</li>
      <li>Remove the installation of PX4 and MICRO-XRCE-DDS-AGENT</li>
      <li>Remove the cloning of as2_platform_pixhawk and px4_msgs repositories</li>
    </ul>
  </li>
  <li>Determined that the CustomRobots package has gazebo-ros and gazebo-ros2-control as dependencies</li>
  <li>Checked out the installation of Gazebo 11 along with Gazebo Harmonic</li>
</ul>

<p>I encountered the following error while building an image from the modified Dockerfiles. Replacing Gazebo11 with Gazebo Harmonic caused installation failures for <code class="language-plaintext highlighter-rouge">gazebo-ros2-control</code> and <code class="language-plaintext highlighter-rouge">gazebo-ros</code> during <code class="language-plaintext highlighter-rouge">rosdep install</code>. These are the dependencies for the CustomRobots package, as specified in its <a href="https://github.com/JdeRobot/RoboticsInfrastructure/blob/humble-devel/CustomRobots/package.xml">package.xml</a> file. To address this, the sourcing and compiling of the workspace have been temporarily commented out.</p>

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
    <img src="/gsoc2024-Prajyot_Jadhav/assets/img//week1/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();" />
  </picture>

  
</figure>

<p>Additionally, I tested whether Gazebo11 can be installed alongside Gazebo Harmonic by following the instructions in <a href="https://github.com/gazebosim/docs/blob/master/install_gz11_side_by_side.md">Installing Gazebo11 side by side with new Gazebo</a>. However, I found that these instructions resulted in only Gazebo Harmonic being installed.</p>

<h4 id="radi-with-gazebo-harmonic">RADI with Gazebo Harmonic</h4>

<div class="row mt-3 justify-content-center">
    <div class="col-lg-10 mt-3 mt-md-0">
        

<figure>
  
    <video src="/gsoc2024-Prajyot_Jadhav/assets/video/week1.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls="" />

  
  
</figure>

    </div>
</div>

<!-- <div class="caption">
    New RADI with Gazebo Harmonic (with xhost +)
</div> -->]]></content><author><name></name></author><summary type="html"><![CDATA[Creating and testing a new RADI with Gazebo Harmonic]]></summary></entry><entry><title type="html">Community Bonding: May 20 ~ May 26</title><link href="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/community-bonding-week-3/" rel="alternate" type="text/html" title="Community Bonding: May 20 ~ May 26" /><published>2024-05-28T22:10:16+05:30</published><updated>2024-05-28T22:10:16+05:30</updated><id>http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/community-bonding-week-3</id><content type="html" xml:base="http://localhost:4000/gsoc2024-Prajyot_Jadhav/blog/2024/community-bonding-week-3/"><![CDATA[<p>The initial project goal was migrating Robotics-Academy to Gazebo Fortress. However, considering that the end-of-life (EOL) for Gazebo Fortress is in September 2026, it was decided in the weekly meeting to migrate Robotics-Academy to Gazebo Harmonic, a LTS (Long-Term Support) version with an EOL in September 2028.</p>

<h4 id="objectives">Objectives</h4>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Understanding the codebase of RoboticsInfrastructure and RoboticsApplicationManager repositories</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Getting acquainted with running and building Docker Images through Dockerfiles</li>
</ul>

<p>In the weekly meeting, we discussed the project’s Contributing Guidelines, to ensure I follow the best practices while contributing to the codebase. Additionally, the mentors introduced me to the Scrum methodology, which will be used to manage my contributions and track progress efficiently.</p>

<p>The project timeline was also reviewed. The mentors also discussed a detailed work plan outlining the steps and deliverables for each phase.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[Week 3 of the community bonding period]]></summary></entry></feed>